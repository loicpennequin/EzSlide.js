{"version":3,"names":[],"mappings":"","sources":["slides.js"],"sourcesContent":["export default class Slider{\r\n    constructor(containerId, options){\r\n        this.id = containerId;\r\n        this.container = document.getElementById(`${this.id}`);\r\n        this.slides = document.querySelectorAll(`.slide[slider=\"${this.id}\"]`);\r\n        this.navigation = document.querySelectorAll(`[slide-link='${this.id}']`);\r\n        this.currentSlide = 0;\r\n        this.frozen = false;\r\n        this.focused = true;\r\n\r\n        if (options) this.applyOptions(options);\r\n        this.init();\r\n    }\r\n\r\n    applyOptions(options){\r\n        this.scrollable = options.scrollable === true;\r\n        this.autoplay = options.autoplay;\r\n    }\r\n\r\n    init(){\r\n        const prevBtn = document.querySelector(`[slide-control='${this.id}'][slide-previous]`),\r\n              nextBtn = document.querySelector(`[slide-control='${this.id}'][slide-next]`);\r\n\r\n        this.slides.forEach( (slide, index) => index === this.currentSlide ? slide.classList.add('active') : null );\r\n\r\n        this.updateNavigation();\r\n\r\n        prevBtn ? prevBtn.addEventListener('click', this.previous.bind(this, null)) : null;\r\n        nextBtn ? nextBtn.addEventListener('click', this.next.bind(this, null)) : null;\r\n\r\n        if ( this.scrollable === true ) {\r\n            this.container.addEventListener('mouseenter', () => this.focused = true);\r\n            this.container.addEventListener('mouseleave', e => this.focused = false);\r\n\r\n            document.addEventListener('wheel', e => {\r\n                this.focused === true\r\n                ? e.deltaY > 0\r\n                ? this.next()\r\n                : this.previous()\r\n                : null;\r\n            });\r\n        }\r\n\r\n        this.navigation.forEach( link => link.addEventListener('click', this.goToSlide.bind(this, link.dataset.slide)) )\r\n\r\n        if ( this.autoplay ) {\r\n            console.log('should autoplay');\r\n            setInterval(this.next.bind(this, null), this.autoplay);\r\n        }\r\n    }\r\n\r\n    updateNavigation(){\r\n        this.navigation.forEach( link => {\r\n            if (link.dataset.slide == this.currentSlide) {\r\n                link.classList.add('active')\r\n            } else {\r\n                link.classList.remove('active')\r\n            }\r\n        })\r\n    }\r\n\r\n    previous(index){\r\n        if ( !this.frozen ){\r\n            this.resetClasses();\r\n\r\n            this.slides[this.currentSlide].classList.add('hide-right');\r\n\r\n            if (index) this.currentSlide = index;\r\n            else this.currentSlide === 0 ? this.currentSlide = this.slides.length - 1 : this.currentSlide --;\r\n\r\n            this.slides[this.currentSlide].classList.add('active');\r\n            this.slides[this.currentSlide].classList.add('show-left');\r\n\r\n            this.updateNavigation();\r\n            this.freeze();\r\n        }\r\n    }\r\n\r\n    next(index){\r\n        if ( !this.frozen ){\r\n            this.resetClasses();\r\n\r\n            this.slides[this.currentSlide].classList.add('hide-left');\r\n\r\n            if (index) this.currentSlide = index;\r\n            else this.currentSlide === this.slides.length - 1 ? this.currentSlide = 0 : this.currentSlide ++;\r\n\r\n            this.slides[this.currentSlide].classList.add('active');\r\n            this.slides[this.currentSlide].classList.add('show-right');\r\n\r\n            this.updateNavigation();\r\n            this.freeze();\r\n        };\r\n    }\r\n\r\n    goToSlide(slide){\r\n        if ( !this.frozen ){\r\n            if ( slide < this.currentSlide) this.previous(slide);\r\n            else if (slide > this.currentSlide) this.next(slide);\r\n        }\r\n    }\r\n\r\n    freeze(){\r\n        this.frozen = true;\r\n        setTimeout( () => this.frozen = false, 1000);\r\n    }\r\n\r\n    resetClasses(){\r\n        this.slides.forEach( slide => {\r\n            slide.classList.remove('active');\r\n            slide.classList.remove('show-right');\r\n            slide.classList.remove('show-left');\r\n            slide.classList.remove('hide-right');\r\n            slide.classList.remove('hide-left');\r\n        })\r\n    }\r\n}\r\n"],"file":"slides.js"}